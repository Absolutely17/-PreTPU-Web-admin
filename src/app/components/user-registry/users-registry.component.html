<div flex="auto">
  <div layout-align="end center" layout="row" class="breadcrumbs-container">
    <button mat-button (click)="enableSelectUsers()">Выбрать пользователей</button>
    <button type="button" mat-icon-button matTooltip="Список функций"
            [matMenuTriggerFor]="registryMenu">
      <mat-icon color="grey">more_vert</mat-icon>
    </button>
    <mat-menu #registryMenu="matMenu">
      <button mat-menu-item (click)="sendGroupNotification()">Групповое уведомление</button>
      <button mat-menu-item [disabled]="!selectable || selectedRows.length < 1" (click)="sendUsersNotification()">Персональное уведомление</button>
    </mat-menu>
  </div>
</div>
<div class="fullheight" layout="column">
<div flex="grow">
  <mat-sidenav-container autosize class="table-container">
    <mat-sidenav-content>
      <div layout="column" layout-align="start stretch" layout-fill>
        <div flex="grow">
          <div class="layout-scroll-container">
            <div class="layout-scroll-container-inner">
              <div class="layout-scroll-content display-table-view">
                <div class="loader-container"
                     *tdLoading="'loginLoadingName'; mode:'indeterminate'; type:'circle'; strategy:'overlay'; color:'accent'">
                  <div class="layout-scroll-container">
                    <div class="layout-scroll-container-inner">
                      <div class="layout-scroll-content display-table-container">
                        <div class="data-table">
                          <sb-data-table *ngIf="filteredData"
                                         #dataTable
                                         [data]="filteredData"
                                         [columns]="columns"
                                         [selectable]="selectable"
                                         [multiple]="true"
                                         [sortable]="true"
                                         [sortBy]="sortBy"
                                         [(ngModel)]="selectedRows"
                                         [sortOrder]="sortOrder"
                                         (sortChange)="sort($event)"
                          >
                            <ng-template sbDataTableTemplate="uploadDocument" let-row="row">
                              <div layout="row">
                                <button (click)="uploadDocument(row)" mat-button>
                                  <mat-icon>insert_drive_file</mat-icon>
                                </button>
                              </div>
                            </ng-template>
                          </sb-data-table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div flex="auto">
          <td-paging-bar #pagingBar [pageSize]="pageSize" [total]="filteredTotal" (change)="page($event)">
            <span hide-xs>Записей на странице:</span>
            <mat-select [style.width.px]="50" [(ngModel)]="pageSize">
              <mat-option *ngFor="let size of [25, 50, 100, 150]" [value]="size">
                {{ size }}
              </mat-option>
            </mat-select>
            {{ pagingBar.range }}
            <span hide-xs>из {{ pagingBar.total }}</span>
          </td-paging-bar>
        </div>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
</div>
